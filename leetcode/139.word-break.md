## [139. Word Break](https://leetcode.com/problems/word-break/)

Let's define `dp[i]` as the state if we can build the substring `s[0:i]` from diectionary. And the state transition will be

```js
// The state of s[0:i]
dp[i] = 
    dp[j]       // The state of s[0:j], 
    && s[j:i]   // The remaining substring, check if it in the dictionary
```

For example, `"cars"` and `["car", "ca", "rs"]`:

We will iterate `i` from 0 to `len` for find if we can build substring `s[0:i]`:

```js
i  j  c a r s
1, 0, c        // dp[0] && dict.contains("c") = false
2, 0, c a      // dp[0] && dict.contains("ca") = true
2, 1,   a
3, 0, c a r
3, 1,   a r
3, 2,     r
4, 0, c a r s
4, 1,   a r s
4, 2,     r s
4, 3,       s
```

```kotlin
fun wordBreak(s: String, wordDict: List<String>): Boolean {
    val wordDictSet = HashSet<String>(wordDict)
    val dp = BooleanArray(s.length + 1)
    dp[0] = true
    for (end in 1..s.length) {
        for (start in 0..end) {
            val suffix = s.substring(start, end)
            println("$start, $end, $suffix")
            if (dp[start] && wordDictSet.contains(suffix)) {
                dp[end] = true
                break
            }
        }
        for (i in 0 until dp.size) {
            print("${dp[i]},")
        }
        println()
    }
    return dp[s.length]
}
```

```js
println(wordBreak("cars", listOf("car", "rs", "ca")))
0, 1, c
1, 1, 
true,false,false,false,false,
0, 2, ca
true,false,true,false,false,
0, 3, car
true,false,true,true,false,
0, 4, cars
1, 4, ars
2, 4, rs
true,false,true,true,true,
true

println(wordBreak("cars", listOf("c", "s", "ar")))
0, 1, c
true,true,false,false,false,
0, 2, ca
1, 2, a
2, 2, 
true,true,false,false,false,
0, 3, car
1, 3, ar
true,true,false,true,false,
0, 4, cars
1, 4, ars
2, 4, rs
3, 4, s
true,true,false,true,true,
true

println(wordBreak("cars", listOf("s", "ar")))
0, 1, c
1, 1, 
true,false,false,false,false,
0, 2, ca
1, 2, a
2, 2, 
true,false,false,false,false,
0, 3, car
1, 3, ar
2, 3, r
3, 3, 
true,false,false,false,false,
0, 4, cars
1, 4, ars
2, 4, rs
3, 4, s
4, 4, 
true,false,false,false,false,
false
```

* **Time Complexity**: `O(n^2)` where `n` is the length of string.
* **Space Complexity**: `O(n)` for dp table.

Here we don't iterate to build substring start from `i`, because the `dp[i]` represent the state of `s[0:i]`.

```js
c a r s
-------
c
c a
c a r
c a r s
  a
  a r
  a r s
    r
    r s
      s
```

### My First Attempt (WA)
To iterate all words in diectionary, and replace in the `s`, then check the remaining substring in diectionary recursively. It failed at the case `s = "cars"`, dictionary = `["car", "ca", "rs"]`.