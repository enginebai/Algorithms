## [32. Longest Valid Parentheses](https://leetcode.com/problems/longest-valid-parentheses/)

* Rule 1: The length of valid parentheses will be even.
* Rule 2: We can check if valid only encountering `)`.

### Brute Force
Check from the longest length one by one, i.e. `s.length` is 5, then we check substring length from 4, 2, 0.

```kotlin
fun longestValidParentheses(s: String): Int {
    // Rule 1, if the length is odd, length just minus 1
    var checkLength = if (s.length % 2 == 1) s.length - 1 else s.length
    while (checkLength > 0) {
        for (i in 0 until s.length - checkLength + 1) {
            val valid = isValid(s.substring(i, i + checkLength))
            if (valid) {
                return checkLongth
            }
        }
        checkLength -= 2
    }
    return 0
}

private fun isValid(s: String): Boolean {
    val stack = Stack<Char>()
    for (i in 0 until s.length) {
        if (s[i] == '(') {
            stack.push(s[i])
        } else {
            if (stack.isEmpty()) return false
            stack.pop()
        }
    }
    return stack.isEmpty()
}
```

### My Failed Cases
* `"()(()"`
* `"()(()()"`
* `"()()(()"`
* `"()(()())"`