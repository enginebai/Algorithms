## [42. Trapping Rain Water](https://leetcode.com/problems/trapping-rain-water/)

### Brute Force
Iterate every height, and find the left and right max height from current height. It takes `O(n^2)` time.

```kotlin
fun trap(height: IntArray): Int {
    var result = 0
    for (current in 0 until height.size) {
        var leftMax = 0
        var rightMax = 0
        for (i in current downTo 0) {
            leftMax = if (height[i] > leftMax) height[i] else leftMax
        }
        for (i in current until height.size) {
            rightMax = if (height[i] > rightMax) height[i] else rightMax
        }
        result += (if (leftMax > rightMax) rightMax else leftMax) - height[current]
    }
    return result
}
```

### Monotonic Stack
```kotlin
fun trap(height: IntArray): Int {
    val stack = Stack<Int>()
    var trap = 0
    // Loop as right wall
    for (i in 0 until height.size) {
        // When we find a valid right wall
        while (!stack.isEmpty() && height[i] > height[stack.peek()]) {
            val groundIndex = stack.pop()
            
            // If there is not left wall, then can't trap.
            if (stack.isEmpty()) break
            
            val leftIndex = stack.peek()

            // For [7 1 4] we can trap max height to 4, not 7.
            val minHeight = (if (height[leftIndex] > height[i]) height[i] else height[leftIndex]) - height[groundIndex]
            val width = i - leftIndex - 1
            trap += minHeight * width
        }
        stack.push(i)
    }
    return trap
}
```

