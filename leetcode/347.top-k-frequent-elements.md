## [347. Top K Frequent Elements](https://leetcode.com/problems/top-k-frequent-elements/)

```kotlin
fun topKFrequent(nums: IntArray, k: Int): IntArray {
    if (nums.size == 1) return nums

    nums.sort()
    val frequencyMap = hashMapOf<Int, Int>()
    for (i in 1 until nums.size) {
        if (!frequencyMap.containsKey(nums[i - 1])) frequencyMap[nums[i - 1]] = 1
        if (nums[i - 1] == nums[i]) {
            frequencyMap[nums[i - 1]] = frequencyMap[nums[i - 1]]!! + 1
        } else {
            frequencyMap[nums[i]] = 1
        }
    }

    val results = mutableListOf<Int>()
    var i = k
    frequencyMap.toList().sortedByDescending { (key, value) -> value }.toMap().forEach { key, value ->
        if (i > 0) {
            results.add(key)
            i--
        }
    }
    return results.toIntArray()
}
```