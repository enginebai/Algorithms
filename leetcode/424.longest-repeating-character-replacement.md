## [424. Longest Repeating Character Replacement](https://leetcode.com/problems/longest-repeating-character-replacement/)

* Window maintains the longest repeating character replacement within `k` times.
* We update `maxRepeatedCount` so that we could know how many characters that we have to replace:

```js
windows = [AAABC]
maxRepeatedCount = 3

// That means that we have to replace 2 characters.
```



```kotlin
fun characterReplacement(s: String, k: Int): Int {
    var start = 0
    var end = 0
    var maxRepeatedCount = 0
    var results = 0
    val sCount = IntArray(26)
    while (end < s.length) {
        sCount[s[end] - 'A']++
        maxRepeatedCount = max(maxRepeatedCount, sCount[s[end] - 'A'])

        // If the difference between the current length and max repeated count > k, we have to shrink the window
        while (end - start + 1 - maxRepeatedCount > k) {
            sSount[s[start] - 'A']--
            start++
        }
        results = max(results, end - start + 1)
        end++
    }
    return results
}
```

* **Time Complexity**: `O(n)`.
* **Space Complexity**: `O(1)`.