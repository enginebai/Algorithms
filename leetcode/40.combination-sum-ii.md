## [40. Combination Sum II](https://leetcode.com/problems/combination-sum-ii/)

How to avoid duplicate combinations is the key:
* We sort the candidates so that we can search candidate **in order**.
* We can prevent duplicate combination via skiping searching duplicate candidate at the same search level.

> https://leetcode.cn/problems/combination-sum-ii/solution/hui-su-suan-fa-jian-zhi-python-dai-ma-java-dai-m-3/225211/

```kotlin
private val results = mutableListOf<List<Int>>()

fun combinationSum2(candidates: IntArray, target: Int): List<List<Int>> {
    candidates.sort()
    dfs(candidates, target, 0, mutableListOf<Int>())
    return results
}

private fun dfs(candidates: IntArray, target: Int, startIndex: Int, result: MutableList<Int>) {
    if (target == 0) {
        results.add(ArrayList<Int>(result))
        return 
    }
    
    for (i in startIndex until candidates.size) {
        // Duplicate candidate, we won't search (we search before already)
        if (i > startIndex && candidates[i] == candidates[i - 1]) {
            continue
        }

        val num = candidates[i]

        // Prune
        if (target - num < 0) break

        result.add(num)
        dfs(candidates, target - num, i + 1, result)
        result.removeAt(result.size - 1)
    }
}
```